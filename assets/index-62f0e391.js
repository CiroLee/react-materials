import{e as a,j as e,a as S,R as h}from"./index-c1a588c0.js";import{S as x}from"./index-086fcf04.js";const H=w=>{const{type:o="text",value:c="",disabled:g,placeholder:v,className:j,maxLength:n,clearable:_,showCount:r,autoComplete:C=!0,onChange:s,onBlur:i}=w,N=a.useRef(null),[l,u]=a.useState(""),[R,f]=a.useState(!1),[y,m]=a.useState(""),[p,I]=a.useState(!1),b=t=>{n&&t.target.value.length>n&&(t.target.value=t.target.value.slice(0,n)),u(t.target.value),s==null||s(t.target.value),r&&d()},E=t=>{f(!1),i==null||i(t.target.value)},$=()=>{u(""),s==null||s(""),r&&d("0")},d=t=>{m(n?`${t||String(l).length}/${n}`:`${t||String(l).length}`)};return a.useEffect(()=>{if(u(String(c)),r){const t=String(c).length;d(t.toString())}},[c]),e.jsxs("div",{className:S("r-input",j,{focus:R,disabled:g}),children:[e.jsx("input",{ref:N,type:o==="password"?p?"text":"password":o,value:l,placeholder:v,disabled:g,autoComplete:C?"on":"new-password",onFocus:()=>f(!0),onBlur:E,onChange:b}),e.jsxs("div",{className:S("r-input__trail",{"r-input__count":r}),"data-count":y,children:[e.jsx(x,{if:!!_&&!!String(l).length,children:e.jsx(h,{name:"ri-close-circle-fill",className:"r-input__btn",onClick:$})}),e.jsx(x,{if:o==="password",children:e.jsx(h,{name:p?"ri-eye-line":"ri-eye-close-line",className:"r-input__btn",style:{marginRight:0},onClick:()=>I(!p)})})]})]})};export{H as I};
