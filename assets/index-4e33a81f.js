import{e as u,j as e,R as m,a as g,u as _}from"./index-aecebabb.js";import{W as D}from"./index-74cef55e.js";const j=42;function f(t,h){const n=new Date(t),c=h?0:6,d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),r=(new Date(n.getFullYear(),n.getMonth(),1).getDay()-c+7)%7,x=new Date(n.getFullYear(),n.getMonth(),0).getDate(),o=new Array(j);for(let a=0;a<j;a++){const s=new Date(n);let l=a-r+1,i=0;a<r?(l=x-r+a+1,i=-1):a>=r+d&&(l=a-r-d+1,i=1),s.setDate(l),s.setMonth(s.getMonth()+i),o[a]={day:s.getDate(),type:i,weekDay:s.getDay()}}return o}const y={startOnSunday:["日","一","二","三","四","五","六"],startOnMonday:["一","二","三","四","五","六","日"]},w=t=>{const{startOnSunday:h,defaultBar:n=!0}=t,[c,d]=u.useState(new Date),[r,x]=u.useState([]);u.useEffect(()=>{const a=f(t.date||new Date);x(a),d(t.date||new Date)},[t.date]);const o=a=>{const s=a?y.startOnSunday:y.startOnMonday;return e.jsx("div",{className:g("r-calendar__weekday-bar",t.className),children:s.map(l=>e.jsx("div",{className:"r-calendar__weekday-bar--item",children:l},l))})};return e.jsxs("div",{className:"r-calendar",children:[e.jsx(D,{condition:n,children:e.jsxs("div",{className:"r-calendar__toolbar",children:[e.jsxs("p",{children:[c.getFullYear(),"年",c.getMonth()+1,"月"]}),e.jsxs("div",{className:"r-calendar__toolbar--button-group",children:[e.jsx("div",{className:"r-calendar__toolbar--btn",children:e.jsx(m,{name:"ri-arrow-left-line",size:"16px"})}),e.jsx("div",{className:"r-calendar__toolbar--btn",children:e.jsx(m,{name:"ri-arrow-right-line",size:"16px"})})]})]})}),o(h),e.jsx("div",{className:"r-calendar__content","data-month":c.getMonth()+1,children:r.map((a,s)=>e.jsx("div",{className:g("r-calendar__content__day",{"r-calendar__content__not-curr":a.type!==0}),children:e.jsx("span",{children:a.day})},s))})]})},M=()=>{const t=_();return e.jsxs("div",{children:[e.jsx(m,{name:"ri-arrow-left-line",size:24,color:"#333",onClick:()=>t(-1)}),e.jsx("h2",{className:"text-lg",children:"简单的日历组件"}),e.jsx("div",{className:"my-4",children:e.jsx(w,{})})]})};export{M as default};
