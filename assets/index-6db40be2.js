import{j as e,e as n,a as f,R as m}from"./index-dfa04fa7.js";const j=({condition:o,children:a})=>e.jsx(e.Fragment,{children:o?a:null});const $=o=>{const{type:a="text",value:i="",disabled:h,placeholder:v,className:w,maxLength:r,clearable:_,showCount:l,onChange:s,onBlur:u}=o,N=n.useRef(null),[c,d]=n.useState(""),[R,x]=n.useState(!1),[y,S]=n.useState(""),[p,I]=n.useState(!1),b=t=>{r&&t.target.value.length>r&&(t.target.value=t.target.value.slice(0,r)),d(t.target.value),s==null||s(t.target.value),l&&g()},C=t=>{x(!1),u==null||u(t.target.value)},E=()=>{d(""),s==null||s(""),l&&g("0")},g=t=>{S(r?`${t||String(c).length}/${r}`:`${t||String(c).length}`)};return n.useEffect(()=>{if(d(String(i)),l){const t=String(i).length;g(t.toString())}},[i]),e.jsxs("div",{className:f("r-input",w,{focus:R,disabled:h}),children:[e.jsx("input",{ref:N,type:a==="password"?p?"text":"password":a,value:c,placeholder:v,disabled:h,onFocus:()=>x(!0),onBlur:C,onChange:b}),e.jsxs("div",{className:f("r-input__trail",{"r-input__count":l}),"data-count":y,children:[e.jsx(j,{condition:!!_&&!!String(c).length,children:e.jsx(m,{name:"ri-close-circle-fill",className:"r-input__btn",onClick:E})}),e.jsx(j,{condition:a==="password",children:e.jsx(m,{name:p?"ri-eye-line":"ri-eye-close-line",className:"r-input__btn",style:{marginRight:0},onClick:()=>I(!p)})})]})]})};export{$ as I,j as W};
