import{j as e,e as n,a as S,R as f,u as E}from"./index-3f1262f5.js";const w=({condition:c,children:l})=>e.jsx(e.Fragment,{children:c?l:null});const g=c=>{const{type:l="text",value:h="",disabled:N,placeholder:i,className:y,maxLength:o,clearable:d,showCount:m,onChange:s,onBlur:r}=c,p=n.useRef(null),[u,x]=n.useState(""),[_,v]=n.useState(!1),[j,t]=n.useState(""),[C,$]=n.useState(!1),R=a=>{o&&a.target.value.length>o&&(a.target.value=a.target.value.slice(0,o)),x(a.target.value),s==null||s(a.target.value),m&&I()},F=a=>{v(!1),r==null||r(a.target.value)},k=()=>{x(""),s==null||s(""),m&&I("0")},I=a=>{t(o?`${a||String(u).length}/${o}`:`${a||String(u).length}`)};return n.useEffect(()=>{if(x(String(h)),m){const a=String(h).length;I(a.toString())}},[h]),e.jsxs("div",{className:S("r-input",y,{focus:_,disabled:N}),children:[e.jsx("input",{ref:p,type:l==="password"?C?"text":"password":l,value:u,placeholder:i,disabled:N,onFocus:()=>v(!0),onBlur:F,onChange:R}),e.jsxs("div",{className:S("r-input__trail",{"r-input__count":m}),"data-count":j,children:[e.jsx(w,{condition:!!d&&!!String(u).length,children:e.jsx(f,{name:"ri-close-circle-fill",className:"r-input__btn",onClick:k})}),e.jsx(w,{condition:l==="password",children:e.jsx(f,{name:C?"ri-eye-line":"ri-eye-close-line",className:"r-input__btn",style:{marginRight:0},onClick:()=>$(!C)})})]})]})};const b=c=>{const{value:l="",placeholder:h,className:N,maxLength:i,clearable:y,rows:o=5,showCount:d,disabled:m,onChange:s}=c,[r,p]=n.useState(""),[u,x]=n.useState(""),_=t=>{i&&t.target.value.length>i&&(t.target.value=t.target.value.slice(0,i)),p(t.target.value),s==null||s(t.target.value),d&&j()},v=()=>{p(""),s==null||s(""),d&&j("0")},j=t=>{x(i?`${t||r.length}/${i}`:`${t||r.length}`)};return n.useEffect(()=>{if(p(String(l)),d){const t=String(l).length;j(t.toString())}},[l]),e.jsxs("div",{className:S("cy-textarea",N,{disabled:m}),children:[e.jsx("textarea",{value:r,rows:o,disabled:m,placeholder:h,onChange:_}),e.jsx(w,{condition:!!y&&!!r.length,children:e.jsx(f,{name:"ri-close-circle-fill",color:"#a8a8a8",className:"cy-textarea__clear",onClick:v})}),e.jsx(w,{condition:!!d,children:e.jsx("div",{className:S({"cy-textarea__count":d}),children:u})})]})},V=()=>{const c=E();return e.jsxs("div",{children:[e.jsx(f,{name:"ri-arrow-left-line",size:24,color:"#333",onClick:()=>c(-1)}),e.jsx("h2",{className:"text-lg my-4",children:"Form"}),e.jsxs("div",{className:"mb-6 rounded-sm p-4 border border-solid border-gray-200",children:[e.jsx("h2",{className:"text-lg",children:"Input"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"基本用法"}),e.jsx(g,{placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"disabled"}),e.jsx(g,{disabled:!0,placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"允许清除"}),e.jsx(g,{clearable:!0,placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"显示count"}),e.jsx(g,{clearable:!0,maxLength:20,showCount:!0,placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"password"}),e.jsx(g,{type:"password",placeholder:"input something"})]})]})]}),e.jsxs("div",{className:"mb-6 rounded-sm p-4 border border-solid border-gray-200",children:[e.jsx("h2",{className:"text-lg",children:"Textarea"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"基本用法"}),e.jsx(b,{placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"disabled"}),e.jsx(b,{disabled:!0,placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"允许清除"}),e.jsx(b,{clearable:!0,placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"自定义行数 rows=2"}),e.jsx(b,{clearable:!0,rows:2,placeholder:"input something"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mb-2 text-md",children:"显示count"}),e.jsx(b,{clearable:!0,maxLength:20,showCount:!0,placeholder:"input something"})]})]})]})]})};export{V as default};
