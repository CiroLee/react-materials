import{e as n,j as e,a as m,R as x}from"./index-aecebabb.js";import{W as S}from"./index-74cef55e.js";const F=v=>{const{type:o="text",value:c="",disabled:g,placeholder:j,className:w,maxLength:a,clearable:_,showCount:r,onChange:s,onBlur:i}=v,N=n.useRef(null),[l,u]=n.useState(""),[R,h]=n.useState(!1),[y,f]=n.useState(""),[p,I]=n.useState(!1),b=t=>{a&&t.target.value.length>a&&(t.target.value=t.target.value.slice(0,a)),u(t.target.value),s==null||s(t.target.value),r&&d()},C=t=>{h(!1),i==null||i(t.target.value)},E=()=>{u(""),s==null||s(""),r&&d("0")},d=t=>{f(a?`${t||String(l).length}/${a}`:`${t||String(l).length}`)};return n.useEffect(()=>{if(u(String(c)),r){const t=String(c).length;d(t.toString())}},[c]),e.jsxs("div",{className:m("r-input",w,{focus:R,disabled:g}),children:[e.jsx("input",{ref:N,type:o==="password"?p?"text":"password":o,value:l,placeholder:j,disabled:g,onFocus:()=>h(!0),onBlur:C,onChange:b}),e.jsxs("div",{className:m("r-input__trail",{"r-input__count":r}),"data-count":y,children:[e.jsx(S,{condition:!!_&&!!String(l).length,children:e.jsx(x,{name:"ri-close-circle-fill",className:"r-input__btn",onClick:E})}),e.jsx(S,{condition:o==="password",children:e.jsx(x,{name:p?"ri-eye-line":"ri-eye-close-line",className:"r-input__btn",style:{marginRight:0},onClick:()=>I(!p)})})]})]})};export{F as I};
